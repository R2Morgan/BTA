<mvc:View height="100%" controllerName="intern2020.controller.User"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m">

	<Page showHeader="false" enableScrolling="true" class="sapUiContentPadding" showNavButton="false" visible="{UserInfo>/isUser}">

		<content>

			<MessageStrip text="You are logged in as USER." type="Information" showIcon="true">
			</MessageStrip>

			<FlexBox direction="Row" alignItems="Center">
				<items>
					<ToggleButton icon="sap-icon://accept" id="approved" text="Approved" pressed="false" press="onFilterByStatus" type="Accept"/>
					<ToggleButton icon="sap-icon://time-account" pressed="false" id="toBeApproved" text="To Be Approved" press="onFilterByStatus" />
					<ToggleButton icon="sap-icon://decline" pressed="false" id="declined" text="Declined" press="onFilterByStatus" type="Reject" />
				</items>

			</FlexBox>

			<Link text="Do you need help planning your trip?" href="#/information"/>
			<Link text="Manage other's trips" href="#/manager" visible="{UserInfo>/isManager}"/>

			<Table visible="false" selectionChange="handleSelectionChange" id="idTrips" items="{path: '/Front_TripSet', events: {
			dataReceived: '.onDataReceived'}}">
				<headerToolbar>
					<OverflowToolbar id="otbSubheader">
						<ToolbarSpacer/>
						<SearchField width="50%" search=".onFilterBySearch">
							<layoutData>
								<OverflowToolbarLayoutData minWidth="200px" maxWidth="300px" shrinkable="true"/>
							</layoutData>

						</SearchField>
						<Button text="Reset" type="Transparent" press="onReset"/>
						<OverflowToolbarButton type="Transparent" text="Sort" icon="sap-icon://sort" press="onSort"/>
						<OverflowToolbarButton type="Transparent" text="Group" icon="sap-icon://group-2" press="onGroup"/>
					</OverflowToolbar>
				</headerToolbar>

				<columns>
					<Column width="12em">
						<Button iconFirst="false" type="Transparent" icon="sap-icon://sort" text="Service Unit" press=".onSortByServiceUnit"/>
					</Column>
					<Column minScreenWidth="Tablet" demandPopin="true">
						<Button iconFirst="false" id="dateButton" text="Date" icon="sap-icon://sort" type="Transparent" press=".onSortByDate"/>
					</Column>
					<Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
						<Button iconFirst="false" text="Username" type="Transparent" />
					</Column>
					<Column hAlign="End">
						<Button iconFirst="false" id="countryButton" text="Country" icon="sap-icon://sort" type="Transparent" press=".onSortByCountry"/>
					</Column>
				</columns>
				<items>
					<ColumnListItem type="Navigation" press=".onPressDetail" id="tripItem">
						<cells>
							<ObjectIdentifier title="{RId}" text="{RequestId}" />
							<Text text="{
											path: 'StartDate',
											type: 'sap.ui.model.type.Date',
											formatOptions: {
												style: 'short'
											}
										} - {path: 'EndDate',
											type: 'sap.ui.model.type.Date',
											formatOptions: {
												style: 'short'
												}}" />
							<Text text="{UId}" />
							<Text text="{Country}"/>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</content>
	</Page>
</mvc:View>
