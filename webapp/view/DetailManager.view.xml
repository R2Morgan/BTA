<mvc:View xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.uxap"
	xmlns:m="sap.m"
	xmlns:layout="sap.ui.layout"
	xmlns:block="intern2020.controller.detailBlocks" height="100%" controllerName="intern2020.controller.DetailManager">

	<ObjectPageLayout id="ObjectPageLayout" useIconTabBar="true" showFooter="true" upperCaseAnchorBar="false">
		<headerTitle>
			<ObjectPageHeader  >
				<navigationBar>
					<m:Bar>
						<m:contentLeft>
							<m:Button text="" icon="sap-icon://nav-back" press="onNavBack"/>
						</m:contentLeft>
						<m:contentMiddle>
							<m:Title text="Trip details"/>
						</m:contentMiddle>
						<m:contentRight>
							<m:MenuButton text="{i18n>MyProfile}" icon="sap-icon://customer">
								<m:menu>
									<m:Menu itemSelected="onMenuAction">
										<m:items>
											<m:MenuItem text="{i18n>AccInfo}" id="profile" icon="sap-icon://account" press="onGoToPage"/>
											<m:MenuItem text="{i18n>Own}" id="user" icon="sap-icon://suitcase" press="onGoToPage"/>
											<m:MenuItem text="{i18n>ChangePasswd}" id="changePassword" icon="sap-icon://action-settings" press="onGoToPage" />
											<m:MenuItem text="{i18n>Back}" id="back" icon="sap-icon://log" press="goToLoginAndLogOut"/>
										</m:items>
									</m:Menu>
								</m:menu>
							</m:MenuButton>
						</m:contentRight>
					</m:Bar>
				</navigationBar>
			</ObjectPageHeader>
		</headerTitle>

		<headerContent >
		<layout:HorizontalLayout >
		
			<layout:VerticalLayout class="sapUiLargeMarginEnd">
				<m:ObjectStatus title="User" text="{FirstName} {LastName}"/>
				<m:ObjectStatus title="Functional Area" text="{ServiceUnit}"/>
				

			</layout:VerticalLayout>
			<layout:VerticalLayout class="sapUiLargeMarginEnd">
				
				<m:ObjectStatus title="Email" text="{Email}"/>
				<m:ObjectStatus title="Phone" text="{PhoneNr}"/>
			</layout:VerticalLayout>
			<layout:VerticalLayout class="sapUiLargeMarginEnd">
					<m:ObjectStatus title="Cost Center" text="{Total} EUR"/>	
					<m:ObjectStatus
                            title="Status"
                            text="{= ${Status} === 1 ? 'Approved' : ${Status} === 0 ? 'To Be Approved' : 'Declined'}"
                            state="{= ${Status} === 1 ? 'Success' : ${Status} === 0 ? 'Warning' : 'Error'}"
							class="sapUiTinyMarginEnd" />
				</layout:VerticalLayout>
		</layout:HorizontalLayout>
		
                    
            </headerContent>

		<sections>
			<ObjectPageSection title="General">
				<subSections>
					<ObjectPageSubSection>
						<blocks>
							<block:General id="generalBlock"/>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>

			<ObjectPageSection title="Employee">
				<subSections>
					<ObjectPageSubSection>
						<blocks>
							<block:Employee id="employeeBlock"/>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>

			<ObjectPageSection title="Cost">
				<subSections>
					<ObjectPageSubSection>
						<blocks>
							<block:Cost id="costBlock"/>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>


		</sections>
		<footer>
			<m:OverflowToolbar id="otbFooter">
				<m:ToolbarSpacer/>
				<m:Button id="acceptButton" visible="{= ${Status} === 1 ? false : ${Status} === 0 ? true : false}" type="Accept" text="Accept" width="10rem" press="onPressAccept"/>
				<m:Button id="declineButton" visible="{= ${Status} === 1 ? false : ${Status} === 0 ? true : false}" type="Reject" text="Reject" width="10rem" press="onPressDecline"/>

			</m:OverflowToolbar>
		</footer>

	</ObjectPageLayout>

</mvc:View>