<mvc:View
	height="100%"
	controllerName="intern2020.controller.Manager"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m">

	<Page title="Manager Page"
		enableScrolling="true"
		class="sapUiContentPadding"
		showNavButton="false"
		visible="{UserInfo>/isManager}"  >

		 <OverflowToolbar design="Transparent" height="5rem">
		 <Button  press="onGoToLogin" text="Log out" icon="sap-icon://nav-back"/>
		 <ToolbarSpacer/>
		 <ToolbarSpacer/>

		
		<MenuButton text="My Profile" icon="sap-icon://customer">
			<menu>
				<Menu itemSelected="onMenuAction">
					<items>
						<MenuItem text="Account Info" icon="sap-icon://account" press="onGoToProfile"/>
						<MenuItem text="Change Password" icon="sap-icon://action-settings" press="onGoToSettings" />
						<MenuItem text="Other" icon="sap-icon://open-folder"  />
					</items>
				</Menu>
			</menu>
		</MenuButton>
		</OverflowToolbar>
    
		<content>
		<FlexBox
			height="100px"
			alignItems="Start"
			justifyContent="Center">
        <items>
            
            
            <ToggleButton
                icon="sap-icon://accept"
                id="approved"
                text="Approved"
				pressed="false"
				press="onFilterByStatus"
				class="sapUiSmallMarginBegin"
                type="Accept"
				width="30em"/>

            <ToggleButton
                icon="sap-icon://time-account"
                pressed="false"
				id="toBeApproved"
                text="To Be Approved"
				class="sapUiSmallMarginBeginEnd"
				press="onFilterByStatus"
                width="30em"
				/>
            <ToggleButton
                icon="sap-icon://decline"
                pressed="false"
				id="declined"
                text="Declined"
				press="onFilterByStatus"
				class="sapUiSmallMarginEnd"
         		type="Reject" 
				width="30em"/>
        </items>
  
			</FlexBox>

		<Link text="See your own trips" href="#/user"/>

			<Table
				selectionChange="handleSelectionChange"
				
				id="idTrips"
				items="{/Front_TripSet}">
				<headerToolbar>
					<OverflowToolbar id="otbSubheader">
						<ToolbarSpacer/>
						<SearchField width="50%" search="onFilterBySearch">
							<layoutData><OverflowToolbarLayoutData minWidth="200px" maxWidth="300px" shrinkable="true"/></layoutData>
						</SearchField>
						<Button text="Reset"   type="Transparent" press="onReset" tooltip="Clear all sortings"/>
						<OverflowToolbarButton type="Transparent" text="Sort" icon="sap-icon://sort" press="onSort" tooltip="Sort ascending by Name"/>
						<OverflowToolbarButton type="Transparent" text="Group" icon="sap-icon://group-2" press="onGroup" tooltip="Sort ascending by Country"/>
					</OverflowToolbar>
				</headerToolbar>
				
				<columns>
					<Column width="12em">
						<Button type="Transparent" text="Service Unit"/>
					</Column>
					<Column minScreenWidth="Tablet" demandPopin="true">
						<Button iconFirst="false" id="dateButton" text="Date" icon="sap-icon://sort" type="Transparent" press=".onSortByDate"/>
					</Column>
					<Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
						<Button iconFirst="false" id="usernameButton" text="Username" icon="sap-icon://sort" type="Transparent" press=".onSortByUsername"/>
					</Column>
					<Column hAlign="End">
						<Button iconFirst="false" id="countryButton" text="Country" icon="sap-icon://sort" type="Transparent" press=".onSortByCountry"/>
					</Column>
				</columns>
				<items>
					<ColumnListItem type="Navigation" press=".onPressDetail">
						<cells>
							<ObjectIdentifier title="{ServiceUnit}" text="{ServiceUnit}" />
							<Text text="{
											path: 'StartDate',
											type: 'sap.ui.model.type.Date',
											formatOptions: {
												style: 'short'
											}
										} - {path: 'EndDate',
											type: 'sap.ui.model.type.Date',
											formatOptions: {
												style: 'short'
												}}" />
							<Text text="{UId}" />
							<Text text="{Country}"/>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</content>

	</Page>
</mvc:View>
