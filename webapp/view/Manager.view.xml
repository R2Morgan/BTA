<mvc:View
	height="100%"
	controllerName="intern2020.controller.Manager"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m">

	<Page
		showHeader="false"
		enableScrolling="true"
		class="sapUiContentPadding"
		showNavButton="false"
		visible="{UserInfo>/isManager}" >
    
		<content>
			<VBox>
				<MessageStrip
					text="You are logged in as MANAGER."
					type="Information"
					showIcon="true">
				</MessageStrip>
				<IconTabBar
        id="idIconTabBar"
        select="handleIconTabBarSelect"
        class="sapUiResponsiveContentPadding">
        <items>
            <IconTabFilter
                showAll="true"
                text="Trips"
                key="Trips" />
            <IconTabSeparator />
			<!--               count="{/Front_TripSet}"
			   count="{/Front_TripSet()}"-->
            <IconTabFilter
                icon="sap-icon://accept"
                iconColor="Positive"
             
                text="Approved"
                key="Approved" />
            <IconTabFilter
                icon="sap-icon://time-account"
                iconColor="Critical"
                count="{/ProductCollectionStats/Counts/Weight/Heavy}"
                text="To Be Aproved"
                key="ToBeAproved" />
            <IconTabFilter
                icon="sap-icon://decline"
                iconColor="Negative"
                count="{/ProductCollectionStats/Counts/Weight/Overweight}"
                text="Declined"
                key="Declined" />
        </items>
    </IconTabBar>


				
			</VBox>
			<Table
				selectionChange="handleSelectionChange"
				id="idTrips"
				items="{/Front_TripSet}">
				<headerToolbar>
					<OverflowToolbar id="otbSubheader">
						<ToolbarSpacer/>
						<SearchField width="50%" search=".onFilterData">
							<layoutData><OverflowToolbarLayoutData minWidth="200px" maxWidth="300px" shrinkable="true"/></layoutData>
						</SearchField>
						<Button text="Reset" type="Transparent" press="onReset"/>
						<OverflowToolbarButton type="Transparent" text="Sort" icon="sap-icon://sort" press="onSort"/>
						<OverflowToolbarButton type="Transparent" text="Group" icon="sap-icon://group-2" press="onGroup"/>
					</OverflowToolbar>
				</headerToolbar>
				
				<columns>
					<Column width="12em"><Text text="ID" /></Column>
					<Column minScreenWidth="Tablet" demandPopin="true"><Text text="Start Date-End Date" /></Column>
					<Column minScreenWidth="Tablet" demandPopin="true" hAlign="End"><Text text="Name" /></Column>
					<Column hAlign="End"><Text text="Country" /></Column>
				</columns>
				<items>
					<ColumnListItem type="Navigation" press=".onPressDetail">
						<cells>
							<ObjectIdentifier title="{TripId}" text="{ProductId}" />
							<!-- <Text text="{StartDate}-{EndDate}"/> -->
							<Text text="{
											path: 'StartDate',
											type: 'sap.ui.model.type.Date',
											formatOptions: {
												style: 'short'
											}
										} - {path: 'EndDate',
											type: 'sap.ui.model.type.Date',
											formatOptions: {
												style: 'short'
												}}" />
							<Text text="{UId}" />
							<Text text="{Country}"/>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</content>
		<footer>
			<OverflowToolbar id="otbFooter">
			<Button  press="onGoToLogin" text="Log out" icon="sap-icon://nav-back"/>
				<ToolbarSpacer/>
			</OverflowToolbar>
		</footer>

	</Page>
</mvc:View>
